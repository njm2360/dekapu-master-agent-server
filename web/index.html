<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <title>グループインスタンス管理</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container my-4">
    <h1 class="mb-4">グループインスタンス管理</h1>

    <!-- グループ選択 -->
    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">グループ選択</h5>
        <select id="groupSelect" class="form-select"></select>
      </div>
    </div>

    <!-- インスタンス一覧 -->
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">インスタンス一覧</h5>
        <div class="table-responsive">
          <table class="table table-striped table-bordered align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th>表示名</th>
                <th>ユーザー数</th>
                <th> クローズ日時</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody id="instanceTableBody">
              <tr>
                <td colspan="4" class="text-center text-muted">
                  グループを選択してください
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="mt-2 d-flex justify-content-end align-items-center gap-2 text-muted small">
          <span>最終更新日時</span>
          <span id="lastUpdated" style="width: 180px; text-align: right;">
            未取得
          </span>
        </div>
      </div>
    </div>

    <!-- ボタン -->
    <div class="mt-4 d-flex justify-content-end gap-2">
      <button id="refreshBtn" class="btn btn-outline-secondary">
        一覧更新
      </button>
      <button id="openCreateModalBtn" class="btn btn-primary">
        インスタンス作成
      </button>
    </div>

    <!-- インスタンス作成モーダル -->
    <div class="modal fade" id="createInstanceModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">インスタンス作成</h5>
          </div>

          <div class="modal-body">
            <div class="mb-3">
              <!-- 指定しない -->
              <div class="form-check">
                <input class="form-check-input" type="radio" name="instanceMode" value="none" checked>
                <label class="form-check-label">指定しない</label>
              </div>

              <!-- 選択 -->
              <div class="form-check d-flex align-items-center gap-2 mt-2">
                <input class="form-check-input" type="radio" name="instanceMode" value="select">
                <label class="form-check-label">選択</label>
                <select id="selectInput" class="form-select form-select-sm w-50" disabled>
                  <option value="リンゴ支部">リンゴ支部</option>
                  <option value="イチゴ支部">イチゴ支部</option>
                  <option value="メロン支部">メロン支部</option>
                  <option value="スイカ支部">スイカ支部</option>
                  <option value="バナナ支部">バナナ支部</option>
                  <option value="ブドウ支部">ブドウ支部</option>
                  <option value="マンゴー支部">マンゴー支部</option>
                  <option value="レモン支部">レモン支部</option>
                  <option value="ゆるぶっぱ">ゆるぶっぱ</option>
                  <option value="スキルブッパ会">スキルブッパ会</option>
                </select>
              </div>

              <!-- 手動 -->
              <div class="form-check d-flex align-items-center gap-2 mt-2">
                <input class="form-check-input" type="radio" name="instanceMode" value="manual">
                <label class="form-check-label">手動</label>
                <input type="text" id="manualInput" class="form-control form-control-sm w-25" disabled>
              </div>
            </div>

            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="queueEnabled" checked>
              <label class="form-check-label">待機列</label>
            </div>

            <div class="mb-3">
              <label for="regionSelect" class="form-label">Region</label>
              <select id="regionSelect" class="form-select">
                <option value="jp" selected>JP</option>
                <option value="use">USE</option>
                <option value="us">USW</option>
                <option value="eu">EU</option>
              </select>
            </div>

            <div class="mb-3">
              <label for="groupAccessTypeSelect" class="form-label">Access Type</label>
              <select id="groupAccessTypeSelect" class="form-select">
                <option value="public">Group Public</option>
                <option value="plus">Group+</option>
                <option value="members" selected>Group</option>
              </select>
            </div>

          </div>

          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
            <button id="createInstanceBtn" class="btn btn-primary">作成</button>
          </div>
        </div>
      </div>
    </div>


    <!-- マシン選択モーダル -->
    <div class="modal fade" id="clientModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">マシン選択</h5>
          </div>
          <div class="modal-body">
            <select id="clientSelect" class="form-select"></select>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
            <button id="launchBtn" class="btn btn-primary">OK</button>
          </div>
        </div>
      </div>
    </div>

    <!-- クローズ確認モーダル -->
    <div class="modal fade" id="closeConfirmModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              インスタンス「<span id="closeInstanceName"></span>」をクローズしますか？
            </h5>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">キャンセル</button>
            <button id="confirmCloseBtn" class="btn btn-danger">クローズ</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <script src="app.js"></script>
</body>

</html>
